---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const works = await getCollection("works");
---

<BaseLayout title="Works">
  <h2>Works</h2>
  <p class="works-lead">
    本サイトのすべての創作物をまとめています。
  </p>

  <div class="works-grid">
    {works.map((work) => (
      <article class="card work-card">
        <a href={`/works/${work.slug}/`}>
          <img
            src={work.data.thumbnail || "/images/common/noimage.png"}
            loading="lazy"
            decoding="async"
          />
          <h3>{work.data.title}</h3>
          <p class="work-type">{work.data.type}</p>
          <span class="work-series">
            {work.data.series?.title ?? "単発"}
          </span>

        </a>
      </article>
    ))}
  </div>
</BaseLayout>
